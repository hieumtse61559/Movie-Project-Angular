<div class="container my-4">
  <div class="row" style="margin-top: 100px;">
    <div class="col-lg-5 phim-image text-center">
      <img [src]="chiTietPhim?.hinhAnh" width="100%" alt="Hình ảnh phim">
      <button class="btn btn-outline-light shadow-lg play__trailer" (click)="open(content)">
        <i class="fas fa-play"></i>
      </button>
    </div>
    <div class="col-lg-7 phim-content">
      <div class="phim-detail">
        <p>Tên phim : {{chiTietPhim?.tenPhim}}</p>
        <p>Đánh giá : {{chiTietPhim?.danhGia}} <i class="bx bxs-star"></i></p>
        <p>Ngày khởi chiếu: {{chiTietPhim?.ngayKhoiChieu | date:"dd-MM-yyyy"}}</p>
        <p>Nội dung: {{chiTietPhim?.moTa}}</p>
        <!-- <p>Trailer: {{chiTietPhim.trailer}}</p> -->
      </div>
      

      <div class="phim-time">
        <div class="HeThongRap" *ngFor="let heThongRap of chiTietPhim?.heThongRapChieu">
          <!-- <div class="rapPhim-logo">
            <img [src]="heThongRap.logo" width="50px" height="50px" alt="Logo hệ thống rạp">
            <span style="font-weight: 600; font-size: 1.4rem;">{{heThongRap.tenHeThongRap}}</span>
          </div> -->

          <div class="rapTheoHeThong-container">
            <div *ngFor="let rapPhim of heThongRap.cumRapChieu">
              <p style="font-size: 1.2rem; font-weight: 500;">{{rapPhim.tenCumRap}}</p>
              <div class="buttons-container row">
                <div class="col-5 col-sm-3" *ngFor="let rap of rapPhim.lichChieuPhim.slice(0,7)">
                  <button class="btn btn-outline-success my-1 p-1" [routerLink]="['/datve', rap.maLichChieu]">
                    {{rap.ngayChieuGioChieu | date:"dd-MM, hh:mm"}}
                  </button>
                </div>
              </div>           
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal cho TRailer phim -->
<ng-template #content let-modal style="
overflow: hidden;
padding-top: 56.25%;">
  <iframe style="
  width: 100%;
  height: 400px;
  border: none;" [src]="chiTietPhim.trailer | safe" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</ng-template>



